20 puntos para analizar sistema desde el SO; Analisis de vulnerabilidades desde dentro de un sistema sin herramientas!, con comandos Linux;

SISTEMA:

1º.- Versión de SO y Kernel, y vuln
uname -a
uname -m
uname -r
https://www.cvedetails.com/

2º.- Versión de sudo y vulnerabilidades, Vuln a escalado de privilegios, desde la 1.8.2, hasta la 1.8.31p2 y desde la 1.9.0, hasta la 1.9.5p1
sudo -V  

AUTENTICACION:

3º.- Usuarios, grupos y privilegios en local: 
cat /etc/passwd - usuarios que pueden abrir una vengana shell,
cat /etc/group - usuarios agregados a que grupos!
cat /etc/shadow - usuarios y claves cifradas -  - solo deberia ser visible el contenido si somos SuperUser, root!

mecanismos en de bloqueos para fuerza bruta usuarios locales

6º.- fichero /etc/shadow

7º.- fichero etc/sudo - Escalado de privilegios, configuraciones especificas para elevar privilegios

8º.- whoami, usuario actual y privlegios, para ejecturar scripts en bash shell, python, etc.. y posibilidad de instalar y ejecutar ./lynis audit system
echo "Usuarios logueados:\n$(who)"

9º.- fichero etc/ldap - que LDAP esta configurado para autenticar y mecanismos en de bloqueo en el LDAP para fuerxza bruta.

CARPETAS e informaión:

10º.- carpetas /home - Carpetas personales y seguridad entre usuarios

IP:

11º.- interfaces y direcciones asigandas entre ellos: 
ifconfig
route
arp -a 

INTERNET: 

12º.- salida a internet
ping 8.8.8.8
wget http://ipinfo.io/ip -qO -

13º.- Ruta de salida a internet a traves de donde
traceroute -A 194.179.1.100 

14º.- DNS configurados!
cat /etc/resolv.conf
cat /etc/resolv.conf | grep 'nameserver' | awk '{print $2}'

PUERTOS TCP/UDP Y SERVICIOS ACTIVOS:

15º.- ss -anv, conexiones establecidas y puertos abiertos!

16º.- netstat -anv, conexiones establecidas y puretos abiertos escuchando!

route
echo "Mascara: " $(ifconfig |grep netmask)

17º.- ps -ALL, procesos abiertos, vermos las opciones de configuración en servicios de acceso remoto, p.ej. ssh  /etc/ssh/sshd_conf

SECRETOS ( password, claves )

18º.- 

CIFRADOS: 

19º.- 

20º.- Recursos y carga: 
echo "Carga promedio" && cat /proc/loadavg | cut -f 1-3 -d ' '
echo "memoria RAM: ",  "\n$(free -m | grep -v +)"
echo "Unidades de disco:", "\n$(df -h| grep 'Filesystem\|^/dev/*')"
echo "Tiempo de actividad.: " && uptime -p | cut -f 2- -d " "



http://www.hackingyseguridad.com/



